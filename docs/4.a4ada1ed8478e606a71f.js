(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{BRTJ:function(n,e,t){"use strict";t.r(e),t.d(e,"FacebookScrapperModule",function(){return S});var r=t("ofXK"),o=t("tyNb");const i={"\xc5\xa0":"\u0160","\xc5\xa1":"\u0161","\xc4\x87":"\u0107","\xc4\x8d":"\u010d","\xc5\xbd":"\u017d","\xc5\xbe":"\u017e","\xc4\x90":"\u0110","\xc4\x91":"\u0111","\xc3\xbc":"\xfc","\xc2\xb0":"\xb0","\xc3\x81":"\xc1","\xc3\xa1":"\xe1","\xc3\x89":"\xc9","\xc3\xa9":"\xe9","\xc3\xad":"\xed","\xc3\xba":"\xfa","\xc3\xbd":"\xfd","\xc4\x8c":"\u010c","\xc4\x8f":"\u010f","\xc4\x9b":"\u011b","\xc5\x98":"\u0158","\xc5\x99":"\u0159","\xc5\xaf":"\u016f","\xc5\x81":"\u0141","\xc3\xb6":"\xf6"};var s=t("fXoL"),c=t("dNgK"),a=t("bTqV"),d=t("NFeN");let l=(()=>{class n{constructor(){this.label="",this.filesFormats="",this.fileText=new s.o}onChange(n){const e=n[0],t=new FileReader,r=this;t.onloadend=()=>{r.fileText.emit(String(t.result))},e&&t.readAsText(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Hb({type:n,selectors:[["file-upload"]],inputs:{label:"label",filesFormats:"filesFormats"},outputs:{fileText:"fileText"},decls:6,vars:2,consts:[["type","file",2,"display","none",3,"accept","change"],["mat-raised-button","","color","primary"]],template:function(n,e){1&n&&(s.Tb(0,"label"),s.Tb(1,"input",0),s.ac("change",function(n){return e.onChange(n.target.files)}),s.Sb(),s.Tb(2,"a",1),s.Tb(3,"mat-icon"),s.yc(4,"file_upload"),s.Sb(),s.yc(5),s.Sb(),s.Sb()),2&n&&(s.Cb(1),s.kc("accept",e.filesFormats),s.Cb(4),s.Ac(" ",e.label," "))},directives:[a.a,d.a],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-gap:10px;justify-items:center}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}@media screen and (max-width:700px){.container[_ngcontent-%COMP%]{display:inherit}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}}"]}),n})();var f=t("MutI"),u=t("f0Cb"),b=t("Qu3c");function p(n,e){if(1&n&&(s.Rb(0),s.Tb(1,"mat-list"),s.Tb(2,"mat-list-item"),s.yc(3),s.Sb(),s.Ob(4,"mat-divider"),s.Sb(),s.Qb()),2&n){const n=e.$implicit;s.Cb(3),s.zc(n)}}function m(n,e){if(1&n&&(s.Rb(0),s.Tb(1,"span"),s.yc(2),s.Sb(),s.Tb(3,"div",9),s.xc(4,p,5,1,"ng-container",10),s.Sb(),s.Qb()),2&n){const n=s.ec();s.Cb(2),s.Ac("Number of old friends: ",n.oldFriends.length,""),s.Cb(2),s.jc("ngForOf",n.oldFriends)}}function g(n,e){if(1&n&&(s.Rb(0),s.Tb(1,"mat-list"),s.Tb(2,"mat-list-item"),s.yc(3),s.Sb(),s.Ob(4,"mat-divider"),s.Sb(),s.Qb()),2&n){const n=e.$implicit;s.Cb(3),s.zc(n)}}function h(n,e){if(1&n&&(s.Rb(0),s.Tb(1,"span"),s.yc(2),s.Sb(),s.Tb(3,"div",9),s.xc(4,g,5,1,"ng-container",10),s.Sb(),s.Qb()),2&n){const n=s.ec();s.Cb(2),s.Ac("Number of current friends: ",n.currentFriends.length,""),s.Cb(2),s.jc("ngForOf",n.currentFriends)}}function C(n,e){if(1&n&&(s.Tb(0,"div",11),s.Tb(1,"span"),s.yc(2),s.Sb(),s.Tb(3,"mat-icon",12),s.yc(4,"info"),s.Sb(),s.Sb()),2&n){const n=s.ec();s.Cb(2),s.Ac("Number of former friends: ",n.formerFriends.length,""),s.Cb(1),s.kc("matTooltip",n.resultsNoteMessage)}}function F(n,e){if(1&n&&(s.Tb(0,"span"),s.yc(1),s.Sb()),2&n){const n=s.ec();s.Cb(1),s.zc(n.noChangesMessage)}}function x(n,e){if(1&n&&(s.Rb(0),s.Tb(1,"mat-list"),s.Tb(2,"mat-list-item"),s.yc(3),s.Sb(),s.Ob(4,"mat-divider"),s.Sb(),s.Qb()),2&n){const n=e.$implicit;s.Cb(3),s.zc(n)}}function y(n,e){if(1&n&&(s.Tb(0,"div",9),s.xc(1,x,5,1,"ng-container",10),s.Sb()),2&n){const n=s.ec();s.Cb(1),s.jc("ngForOf",n.formerFriends)}}const T=[{path:"",component:(()=>{class n{constructor(n){this.snackbar=n,this.formerFriends=[],this.resultsNoteMessage="The result of comparison two uploaded files does not take into account changed person name or surname!",this.noChangesMessage="",this.oldFriends=[],this.currentFriends=[]}onBeforeFriendsFileUpload(n){this.oldFriends=this.scrapeFriendsFile(n)}onCurrentFriendsFileUpload(n){this.currentFriends=this.scrapeFriendsFile(n)}onDetectFormerFriends(){this.formerFriends=function(n,e){const t=[];return n.forEach(n=>{e.includes(n)||t.push(n)}),t}(this.oldFriends,this.currentFriends),this.formerFriends.length||(this.noChangesMessage="No changes found! You are a good friend! :)")}scrapeFriendsFile(n){const e=function(n){const e=function(n){try{const e=JSON.parse(n);if(e&&"object"==typeof e&&e.friends)return e}catch(e){}return!1}(n);return e?function(n){const e=[];return n.friends.forEach(n=>{e.push(n.name)}),(t=e.join(),Object.keys(i).forEach(n=>{t=t.split(n).join(i[n])}),t).split(",").sort();var t}(e):function(n){const e=[];return n.split("/").forEach(n=>{const t=n.match(new RegExp('_2lel">(.*)<'));(null==t?void 0:t.length)&&t[1]&&e.push(t[1])}),e.sort()}(n)}(n);return this.checkIfEmpty(e)?[]:(this.resetResultVars(),e)}checkIfEmpty(n){return!n.length&&(this.snackbar.open("Uploaded file contains none of your friends! Please upload different one.","X",{duration:8e3}),!0)}resetResultVars(){this.formerFriends=[],this.noChangesMessage=""}}return n.\u0275fac=function(e){return new(e||n)(s.Nb(c.a))},n.\u0275cmp=s.Hb({type:n,selectors:[["app-facebook-scrapper"]],decls:14,vars:6,consts:[[1,"upload"],["label","Old friends JSON/HTML file","filesFormats",".json, .html",1,"uploadBtn",3,"fileText"],["mat-raised-button","","color","warn",1,"detectBtn",3,"disabled","click"],["label","Current friends JSON/HTML file","filesFormats",".json, .html",1,"uploadBtn",3,"fileText"],[1,"friends-containers"],[4,"ngIf"],[1,"formerFriends"],["class","messages",4,"ngIf"],["class","box",4,"ngIf"],[1,"box"],[4,"ngFor","ngForOf"],[1,"messages"],["matTooltipPosition","left",3,"matTooltip"]],template:function(n,e){1&n&&(s.Tb(0,"div",0),s.Tb(1,"file-upload",1),s.ac("fileText",function(n){return e.onBeforeFriendsFileUpload(n)}),s.Sb(),s.Tb(2,"button",2),s.ac("click",function(){return e.onDetectFormerFriends()}),s.yc(3," Show former friends "),s.Sb(),s.Tb(4,"file-upload",3),s.ac("fileText",function(n){return e.onCurrentFriendsFileUpload(n)}),s.Sb(),s.Sb(),s.Tb(5,"div",4),s.Tb(6,"div"),s.xc(7,m,5,2,"ng-container",5),s.Sb(),s.Tb(8,"div"),s.xc(9,h,5,2,"ng-container",5),s.Sb(),s.Sb(),s.Tb(10,"div",6),s.xc(11,C,5,2,"div",7),s.xc(12,F,2,1,"span",5),s.xc(13,y,2,1,"div",8),s.Sb()),2&n&&(s.Cb(2),s.jc("disabled",!(e.oldFriends.length&&e.currentFriends.length)),s.Cb(5),s.jc("ngIf",e.oldFriends.length),s.Cb(2),s.jc("ngIf",e.currentFriends.length),s.Cb(2),s.jc("ngIf",e.formerFriends.length),s.Cb(1),s.jc("ngIf",e.noChangesMessage),s.Cb(1),s.jc("ngIf",e.formerFriends.length))},directives:[l,a.b,r.k,r.j,f.a,f.b,u.a,d.a,b.a],styles:[".upload[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.friends-containers[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(420px,1fr));grid-gap:20px;margin-top:4vh}.friends-containers[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;max-height:35vh;overflow-x:hidden;overflow-y:auto;border:1px inset #00f}.formerFriends[_ngcontent-%COMP%]{margin-top:5vh}.formerFriends[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]{display:flex;justify-content:space-between;cursor:help}.formerFriends[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));max-height:35vh;overflow-x:hidden;overflow-y:auto;border:1px outset red}@media screen and (max-width:920px){.friends-containers[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{max-height:18vh}.formerFriends[_ngcontent-%COMP%]{margin-top:2vh}.formerFriends[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{grid-template-columns:auto auto;max-height:22vh}}@media screen and (max-width:750px){.upload[_ngcontent-%COMP%]{display:grid;grid-template-columns:none;justify-content:space-around}.upload[_ngcontent-%COMP%]   .uploadBtn[_ngcontent-%COMP%]{margin-top:10px;margin-right:auto}.upload[_ngcontent-%COMP%]   .detectBtn[_ngcontent-%COMP%]{margin-top:10px;order:2}}@media screen and (max-width:500px){.friends-containers[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.formerFriends[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%], .friends-containers[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{grid-template-columns:auto}}"]}),n})()}];let O=(()=>{class n{}return n.\u0275mod=s.Lb({type:n}),n.\u0275inj=s.Kb({factory:function(e){return new(e||n)},imports:[[o.c.forChild(T)],o.c]}),n})();var M=t("vvyD");let v=(()=>{class n{}return n.\u0275mod=s.Lb({type:n}),n.\u0275inj=s.Kb({factory:function(e){return new(e||n)},imports:[[r.c,M.a]]}),n})(),S=(()=>{class n{}return n.\u0275mod=s.Lb({type:n}),n.\u0275inj=s.Kb({factory:function(e){return new(e||n)},imports:[[r.c,M.a,O,v]]}),n})()}}]);